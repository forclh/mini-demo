<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Cookie å‰åç«¯äº¤äº’æ¼”ç¤º</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
                padding: 20px;
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
                background: white;
                border-radius: 15px;
                padding: 30px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            }

            h1 {
                text-align: center;
                color: #333;
                margin-bottom: 30px;
                font-size: 2.5em;
            }

            .tabs {
                display: flex;
                margin-bottom: 30px;
                border-bottom: 2px solid #e0e0e0;
            }

            .tab {
                padding: 15px 25px;
                cursor: pointer;
                border: none;
                background: none;
                font-size: 16px;
                color: #666;
                border-bottom: 3px solid transparent;
                transition: all 0.3s;
            }

            .tab.active {
                color: #667eea;
                border-bottom-color: #667eea;
                font-weight: bold;
            }

            .tab:hover {
                color: #667eea;
            }

            .tab-content {
                display: none;
            }

            .tab-content.active {
                display: block;
            }

            .section {
                margin-bottom: 30px;
                padding: 25px;
                border: 2px solid #e0e0e0;
                border-radius: 10px;
                background: #f9f9f9;
            }

            .section h2 {
                color: #555;
                margin-bottom: 20px;
                font-size: 1.5em;
            }

            .form-group {
                margin-bottom: 15px;
            }

            label {
                display: block;
                margin-bottom: 5px;
                font-weight: bold;
                color: #333;
            }

            input,
            select,
            textarea {
                width: 100%;
                padding: 12px;
                border: 1px solid #ddd;
                border-radius: 5px;
                font-size: 14px;
                transition: border-color 0.3s;
            }

            input:focus,
            select:focus,
            textarea:focus {
                outline: none;
                border-color: #667eea;
            }

            button {
                background: #667eea;
                color: white;
                padding: 12px 24px;
                border: none;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                margin-right: 10px;
                margin-bottom: 10px;
                transition: background 0.3s;
            }

            button:hover {
                background: #5a6fd8;
            }

            .btn-danger {
                background: #e74c3c;
            }

            .btn-danger:hover {
                background: #c0392b;
            }

            .btn-success {
                background: #27ae60;
            }

            .btn-success:hover {
                background: #229954;
            }

            .btn-warning {
                background: #f39c12;
            }

            .btn-warning:hover {
                background: #e67e22;
            }

            .response-area {
                background: white;
                padding: 15px;
                border-radius: 5px;
                border: 1px solid #ddd;
                min-height: 100px;
                font-family: monospace;
                white-space: pre-wrap;
                margin-top: 15px;
                max-height: 300px;
                overflow-y: auto;
            }

            .status-bar {
                background: #2c3e50;
                color: white;
                padding: 10px 20px;
                border-radius: 5px;
                margin-bottom: 20px;
                font-family: monospace;
            }

            .cookie-item {
                background: #e8f4fd;
                border-left: 4px solid #667eea;
                padding: 10px;
                margin: 5px 0;
                border-radius: 5px;
            }

            .explanation {
                background: #fff3cd;
                border: 1px solid #ffeaa7;
                border-radius: 5px;
                padding: 15px;
                margin-top: 15px;
                line-height: 1.6;
            }

            .grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
            }

            @media (max-width: 768px) {
                .grid {
                    grid-template-columns: 1fr;
                }

                .tabs {
                    flex-wrap: wrap;
                }

                .tab {
                    flex: 1;
                    min-width: 120px;
                }
            }

            .product-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
                margin-top: 15px;
            }

            .product-card {
                border: 1px solid #ddd;
                border-radius: 8px;
                padding: 15px;
                text-align: center;
                background: white;
            }

            .cart-item {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 10px;
                border-bottom: 1px solid #eee;
            }

            .user-info {
                background: #d4edda;
                border: 1px solid #c3e6cb;
                color: #155724;
                padding: 10px;
                border-radius: 5px;
                margin-bottom: 15px;
            }

            .error-info {
                background: #f8d7da;
                border: 1px solid #f5c6cb;
                color: #721c24;
                padding: 10px;
                border-radius: 5px;
                margin-bottom: 15px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>ğŸª Cookie å‰åç«¯äº¤äº’æ¼”ç¤º</h1>

            <div class="status-bar" id="statusBar">çŠ¶æ€: æ­£åœ¨è¿æ¥æœåŠ¡å™¨...</div>

            <div class="tabs">
                <button class="tab active" onclick="showTab('basic')">
                    åŸºç¡€æ“ä½œ
                </button>
                <button class="tab" onclick="showTab('auth')">ç”¨æˆ·è®¤è¯</button>
                <button class="tab" onclick="showTab('session')">
                    ä¼šè¯ç®¡ç†
                </button>
                <button class="tab" onclick="showTab('preferences')">
                    åå¥½è®¾ç½®
                </button>
                <button class="tab" onclick="showTab('monitor')">
                    Cookieç›‘æ§
                </button>
            </div>

            <!-- åŸºç¡€æ“ä½œæ ‡ç­¾é¡µ -->
            <div id="basic" class="tab-content active">
                <div class="grid">
                    <div class="section">
                        <h2>ğŸ“ è®¾ç½®Cookie</h2>
                        <div class="form-group">
                            <label for="cookieName">Cookieåç§°:</label>
                            <input
                                type="text"
                                id="cookieName"
                                placeholder="ä¾‹å¦‚: user_preference"
                            />
                        </div>
                        <div class="form-group">
                            <label for="cookieValue">Cookieå€¼:</label>
                            <input
                                type="text"
                                id="cookieValue"
                                placeholder="ä¾‹å¦‚: dark_theme"
                            />
                        </div>
                        <div class="form-group">
                            <label for="cookieExpires">è¿‡æœŸæ—¶é—´(åˆ†é’Ÿ):</label>
                            <select id="cookieExpires">
                                <option value="session">ä¼šè¯ç»“æŸæ—¶</option>
                                <option value="5">5åˆ†é’Ÿ</option>
                                <option value="30">30åˆ†é’Ÿ</option>
                                <option value="60">1å°æ—¶</option>
                                <option value="1440">1å¤©</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="httpOnly" /> HttpOnly
                                (ä»…æœåŠ¡å™¨å¯è®¿é—®)
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="secure" /> Secure
                                (ä»…HTTPS)
                            </label>
                        </div>
                        <button onclick="setCookieOnServer()">
                            è®¾ç½®Cookie
                        </button>
                        <button
                            onclick="deleteCookieOnServer()"
                            class="btn-danger"
                        >
                            åˆ é™¤Cookie
                        </button>
                    </div>

                    <div class="section">
                        <h2>ğŸ“– è¯»å–Cookie</h2>
                        <button onclick="getCookiesFromServer()">
                            ä»æœåŠ¡å™¨è·å–
                        </button>
                        <button onclick="getCookiesFromClient()">
                            ä»å®¢æˆ·ç«¯è·å–
                        </button>
                        <div class="response-area" id="cookieDisplay">
                            ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹Cookie...
                        </div>
                    </div>
                </div>

                <div class="explanation">
                    <strong>è¯´æ˜:</strong>
                    è¿™ä¸ªéƒ¨åˆ†æ¼”ç¤ºäº†Cookieçš„åŸºæœ¬æ“ä½œã€‚æœåŠ¡å™¨ç«¯è®¾ç½®çš„Cookieå¯ä»¥åŒ…å«HttpOnlyç­‰å®‰å…¨å±æ€§ï¼Œè€Œå®¢æˆ·ç«¯JavaScriptåªèƒ½è¯»å–éHttpOnlyçš„Cookieã€‚
                </div>
            </div>

            <!-- ç”¨æˆ·è®¤è¯æ ‡ç­¾é¡µ -->
            <div id="auth" class="tab-content">
                <div class="grid">
                    <div class="section">
                        <h2>ğŸ” ç”¨æˆ·ç™»å½•</h2>
                        <div id="userStatus"></div>
                        <div class="form-group">
                            <label for="username">ç”¨æˆ·å:</label>
                            <input
                                type="text"
                                id="username"
                                placeholder="admin æˆ– user1"
                            />
                        </div>
                        <div class="form-group">
                            <label for="password">å¯†ç :</label>
                            <input
                                type="password"
                                id="password"
                                placeholder="admin: 123456, user1: password"
                            />
                        </div>
                        <button onclick="login()" class="btn-success">
                            ç™»å½•
                        </button>
                        <button onclick="logout()" class="btn-danger">
                            ç™»å‡º
                        </button>
                        <button onclick="getUserInfo()">è·å–ç”¨æˆ·ä¿¡æ¯</button>
                    </div>

                    <div class="section">
                        <h2>ğŸ‘¤ è®¤è¯çŠ¶æ€</h2>
                        <div class="response-area" id="authDisplay">æœªç™»å½•</div>
                    </div>
                </div>

                <div class="explanation">
                    <strong>è¯´æ˜:</strong>
                    æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨Cookieè¿›è¡Œç”¨æˆ·è®¤è¯ã€‚æœåŠ¡å™¨è®¾ç½®HttpOnlyçš„è®¤è¯Tokenç¡®ä¿å®‰å…¨æ€§ï¼ŒåŒæ—¶è®¾ç½®ç”¨æˆ·ä¿¡æ¯Cookieä¾›å‰ç«¯ä½¿ç”¨ã€‚
                </div>
            </div>

            <!-- ä¼šè¯ç®¡ç†æ ‡ç­¾é¡µ -->
            <div id="session" class="tab-content">
                <div class="grid">
                    <div class="section">
                        <h2>ğŸ›’ è´­ç‰©è½¦æ¼”ç¤º</h2>
                        <div class="product-grid">
                            <div class="product-card">
                                <h4>è‹¹æœ</h4>
                                <p>Â¥5.00</p>
                                <button
                                    onclick="addToCart('apple', 'è‹¹æœ', 5.00)"
                                >
                                    åŠ å…¥è´­ç‰©è½¦
                                </button>
                            </div>
                            <div class="product-card">
                                <h4>é¦™è•‰</h4>
                                <p>Â¥3.00</p>
                                <button
                                    onclick="addToCart('banana', 'é¦™è•‰', 3.00)"
                                >
                                    åŠ å…¥è´­ç‰©è½¦
                                </button>
                            </div>
                            <div class="product-card">
                                <h4>æ©™å­</h4>
                                <p>Â¥4.00</p>
                                <button
                                    onclick="addToCart('orange', 'æ©™å­', 4.00)"
                                >
                                    åŠ å…¥è´­ç‰©è½¦
                                </button>
                            </div>
                        </div>
                        <button onclick="getCart()" class="btn-warning">
                            æŸ¥çœ‹è´­ç‰©è½¦
                        </button>
                        <button onclick="clearCart()" class="btn-danger">
                            æ¸…ç©ºè´­ç‰©è½¦
                        </button>
                    </div>

                    <div class="section">
                        <h2>ğŸ›ï¸ è´­ç‰©è½¦å†…å®¹</h2>
                        <div class="response-area" id="cartDisplay">
                            è´­ç‰©è½¦ä¸ºç©º
                        </div>
                    </div>
                </div>

                <div class="explanation">
                    <strong>è¯´æ˜:</strong> æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨Session
                    Cookieç®¡ç†ç”¨æˆ·ä¼šè¯ã€‚æ¯ä¸ªç”¨æˆ·ä¼šè¯éƒ½æœ‰å”¯ä¸€çš„Session
                    IDï¼ŒæœåŠ¡å™¨æ ¹æ®è¿™ä¸ªIDæ¥ç®¡ç†ç”¨æˆ·çš„è´­ç‰©è½¦æ•°æ®ã€‚
                </div>
            </div>

            <!-- åå¥½è®¾ç½®æ ‡ç­¾é¡µ -->
            <div id="preferences" class="tab-content">
                <div class="grid">
                    <div class="section">
                        <h2>âš™ï¸ ç”¨æˆ·åå¥½è®¾ç½®</h2>
                        <div class="form-group">
                            <label for="theme">ä¸»é¢˜:</label>
                            <select id="theme">
                                <option value="light">æµ…è‰²ä¸»é¢˜</option>
                                <option value="dark">æ·±è‰²ä¸»é¢˜</option>
                                <option value="auto">è‡ªåŠ¨</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="language">è¯­è¨€:</label>
                            <select id="language">
                                <option value="zh-CN">ä¸­æ–‡</option>
                                <option value="en-US">English</option>
                                <option value="ja-JP">æ—¥æœ¬èª</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="notifications" />
                                å¯ç”¨é€šçŸ¥
                            </label>
                        </div>
                        <button onclick="savePreferences()" class="btn-success">
                            ä¿å­˜åå¥½
                        </button>
                        <button onclick="loadPreferences()">åŠ è½½åå¥½</button>
                    </div>

                    <div class="section">
                        <h2>ğŸ“‹ å½“å‰åå¥½</h2>
                        <div class="response-area" id="preferencesDisplay">
                            ç‚¹å‡»åŠ è½½åå¥½æŸ¥çœ‹å½“å‰è®¾ç½®...
                        </div>
                    </div>
                </div>

                <div class="explanation">
                    <strong>è¯´æ˜:</strong>
                    æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨é•¿æœŸCookieä¿å­˜ç”¨æˆ·åå¥½è®¾ç½®ã€‚è¿™äº›Cookieé€šå¸¸è®¾ç½®è¾ƒé•¿çš„è¿‡æœŸæ—¶é—´ï¼ˆå¦‚30å¤©ï¼‰ï¼Œç”¨äºåœ¨ç”¨æˆ·ä¸‹æ¬¡è®¿é—®æ—¶æ¢å¤ä¸ªæ€§åŒ–è®¾ç½®ã€‚
                </div>
            </div>

            <!-- Cookieç›‘æ§æ ‡ç­¾é¡µ -->
            <div id="monitor" class="tab-content">
                <div class="section">
                    <h2>ğŸ” Cookieç›‘æ§é¢æ¿</h2>
                    <button onclick="refreshCookieMonitor()">åˆ·æ–°ç›‘æ§</button>
                    <button onclick="clearAllCookies()" class="btn-danger">
                        æ¸…é™¤æ‰€æœ‰Cookie
                    </button>

                    <h3 style="margin-top: 20px">
                        å®¢æˆ·ç«¯Cookie (JavaScriptå¯è®¿é—®):
                    </h3>
                    <div class="response-area" id="clientCookies">
                        åŠ è½½ä¸­...
                    </div>

                    <h3 style="margin-top: 20px">
                        æœåŠ¡å™¨ç«¯Cookie (åŒ…å«HttpOnly):
                    </h3>
                    <div class="response-area" id="serverCookies">
                        åŠ è½½ä¸­...
                    </div>

                    <h3 style="margin-top: 20px">Cookieè¯¦ç»†ä¿¡æ¯:</h3>
                    <div class="response-area" id="cookieDetails">
                        åŠ è½½ä¸­...
                    </div>
                </div>

                <div class="explanation">
                    <strong>è¯´æ˜:</strong>
                    è¿™ä¸ªç›‘æ§é¢æ¿æ˜¾ç¤ºäº†å½“å‰æ‰€æœ‰çš„Cookieä¿¡æ¯ï¼ŒåŒ…æ‹¬å®¢æˆ·ç«¯å¯è®¿é—®çš„Cookieå’ŒæœåŠ¡å™¨ç«¯çš„HttpOnly
                    Cookieã€‚å¯ä»¥è§‚å¯Ÿä¸åŒæ“ä½œå¯¹Cookieçš„å½±å“ã€‚
                </div>
            </div>
        </div>

        <script src="app.js"></script>
    </body>
</html>
